define(function(require, exports, module) {
	var BaseView=require("baseview");
	//多语
	var i18ns = require("i18n");
	var memberfielddetail=BaseView.extend({
		initSubnav:function(widget){
			var fields=[{
				key:"name",
				value:"姓名"
			},{
				key:"sex",
				value:"性别"
			},{
				key:"birthday",
				value:"出生年月"
			},{
				key:"birthplace",
				value:"出生地"
			},{
				key:"relationship",
				value:"与"+i18ns.get("sale_ship_owner","会员")+"关系"
			},{
				key:"nativePlace",
				value:"籍贯"
			},{
				key:"residenceCity",
				value:"户籍城市"
			},{
				key:"residenceAddress",
				value:"户籍地址"
			},{
				key:"citizenship",
				value:"国籍"
			},{
				key:"communistParty",
				value:"是否共产党"
			},{
				key:"otherParty",
				value:"政治面貌"
			},{
				key:"nationality",
				value:"民族"
			},{
				key:"maritalStatus",
				value:"婚姻状态"
			},{
				key:"idNumber",
				value:"证件"
			},{
				key:"graduateSchool",
				value:"毕业院校"
			},{
				key:"specialty",
				value:"专业"
			},{
				key:"qualifications",
				value:"学历"
			},{
				key:"degree",
				value:"学位"
			},{
				key:"workUnit",
				value:"工作单位"
			},{
				key:"jobTitle",
				value:"职务"
			},{
				key:"phone",
				value:"电话"
			},{
				key:"mobilePhone",
				value:"手机"
			},{
				key:"address",
				value:"通讯地址"
			},{
				key:"otherIntroduction",
				value:"其他介绍"
			}];
			
			var lifeFields=[{
				key:"regular",
				value:"生活是否规律"
			},{
				key:"getUp",
				value:"起床时间"
			},{
				key:"lunchBreak",
				value:"午休时间"
			},{
				key:"lunchBreaklength",
				value:"午休时间长度"
			},{
				key:"sleepClock",
				value:"睡觉时间"
			},{
				key:"sleepDuration",
				value:"每日平均睡眠时间 "
			},{
				key:"dinningFrequency",
				value:"社区餐厅选择频率"
			},{
				key:"appetite",
				value:"食量"
			},{
				key:"smoke",
				value:"是否吸烟"
			}];
			
			var happyFields=[{
				key:"pkMemberInterest",
				value:"兴趣爱好"
			},{
				key:"pkFollowHoliday",
				value:"节日"
			},{
				key:"pkAmusement",
				value:"休闲娱乐"
			},{
				key:"pkFamilyAnniversary",
				value:"家庭纪念日"
			}];
			
			var healthFields=[{
				key:"memMedicalInsurance",
				value:"医保类型"
			},{
				key:"memSelfCareStatus",
				value:"自理状态"
			},{
				key:"pkDiseaseHistory",
				value:"疾病史"
			},{
				key:"pkSurgeryHistory",
				value:"手术史"
			},{
				key:"pkAllergicHistory",
				value:"过敏原"
			},{
				key:"pkCharacter",
				value:"性格特征"
			},{
				key:1,value:"身高（厘米）"
			},{
				key:2,value:"体重（公斤）"
			},{
				key:3,value:"腰围（厘米）"
			},{
				key:4,value:"BMI"
			},{
				key:5,value:"高压（pa）"
			},{
				key:6,value:"低压（pa）"
			},{
				key:7,value:"血型"
			},{
				key:8,value:"血型备注"
			},{
				key:9,value:"心率"
			},{
				key:10,value:"心律"
			},{
				key:11,value:"肺"
			},{
				key:12,value:"肝"
			},{
				key:13,value:"脾"
			},{
				key:14,value:"肿块"
			},{
				key:15,value:"浅表淋巴结"
			},{
				key:16,value:"乳房"
			},{
				key:17,value:"颈及甲状腺"
			},{
				key:18,value:"脊柱及四肢"
			},{
				key:19,
				value:"肛检"
			},{
				key:20,
				value:"辨色力"
			},{
				key:21,
				value:"视力（左眼）"
			},{
				key:22,
				value:"视力（右眼）"
			},{
				key:23,
				value:"眼压"
			},{
				key:24,
				value:"眼结膜"
			},{
				key:25,
				value:"扁桃体"
			},{
				key:26,
				value:"咽喉"
			},{
				key:27,
				value:"鼻"
			},{
				key:28,
				value:"耳朵"
			},{
				key:29,
				value:"心电图"
			},{
				key:30,
				value:"X射线"
			}];
			
			return {
				model:{
					//title:"会员信息完成度分析明细",
					title:i18ns.get("sale_ship_owner","会员")+"信息完成度分析明细",
					buttons :[],
					buttonGroup:[{
						id:"building",
						handler:function(key,element){
							widget.get("list").refresh();
						}
					},{
						id:"head",
						tip:"信息分类",
						items:[{
							key:"basic",
							value:"基本信息"
						},{
							key:"health",
							value:"健康信息"
						},{
							key:"life",
							value:"生活信息"
						},{
							key:"happy",
							value:"快乐信息"
						}],
						handler:function(key,element){
							if(key=="basic"){
								widget.get("subnav").setData(2,fields);
							}else if(key=="health"){
								widget.get("subnav").setData(2,healthFields);
							}else if(key=="life"){
								widget.get("subnav").setData(2,lifeFields);
							}else{
								widget.get("subnav").setData(2,happyFields);
							}
							widget.get("list").refresh();
						}
					},{
						id:"fields",
						tip:"详细信息",
						items:fields,
						handler:function(key,element){
							widget.get("list").refresh();
						}
					}]
				}
			};
		},
		initList:function(widget){
			return {
				url : "api/report/memberfieldinfo",
				params:function(){
					var subnav=widget.get("subnav");
					return {
						pkBuilding:subnav.getValue("building"),
						fields:subnav.getValue("fields"),
						head:subnav.getValue("head"),
						fetchProperties:"*,"+
					    	"personalInfo.pkPersonalInfo,"+
					    	"personalInfo.name,"+
					    	"personalInfo.phone,"+
					    	"memberSigning.room.building.name,"+
					    	"memberSigning.room.number"
					};
				},
				model:{
					columns:[{
						key : "personalInfo.name",
						name : "姓名"
                    },{
						key:"memberSigning.room.building.name",
						name:"楼号"
					},{
						key:"memberSigning.room.number",
						name : "房号"
                    },{
						key : "personalInfo.phone",
						name : "电话"
                    }]
				}
			};
		}
	});
	module.exports=memberfielddetail;
});
