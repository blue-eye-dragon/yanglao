define("eling/component/ui/richtexteditor/1.0.0/dist/richtexteditor",["eling/component/core/uicomponent/2.0.0/src/uicomponent","base","tools","handlebars","templatable","bootstrap","eling/component/utils/tools/tools","./richtextedior.tpl","baidu/ueditor/ueditor.config","baidu/ueditor/ueditor.all.min"],function(a,b,c){var d=a("eling/component/core/uicomponent/2.0.0/src/uicomponent"),e=(a("eling/component/utils/tools/tools"),a("./richtextedior.tpl"));a("baidu/ueditor/ueditor.config"),a("baidu/ueditor/ueditor.all.min");var f=d.extend({attrs:{autoRender:!0,template:e,model:{id:"ue",name:null,context:null,width:"100%",height:"500px",options:{autoHeightEnabled:!1,zIndex:99,toolbars:null}}},initCustAttr:function(){var a=this.get("model");a.id=a.id+(new Date).getTime(),a.options.toolbars=a.options.toolbars?a.options.toolbars:UEDITOR_CONFIG.toolbars},isReady:!1,afterRender:function(){var a=this,b=this.get("model"),c=null;c=UE.getEditor(b.id,b.options),this.isReady=!1,c.ready(function(){a.isReady=!0,null!=b.context&&c.setContent(b.context)}),this.ue=c},getContent:function(){return this.getValue()},locationHostCtx:"{{location_host_ctx}}",getValue:function(){var a=this.ue.getContent();return a=this.replaceContent(a)},replaceContent:function(a){var b=a.match(/background-image:url\(([\w\W]*)\)/);if(b&&2==b.length){var c=b[1],d=localStorage.getItem("ctx");d=location.protocol+"//"+location.host+d;var e=c.replace(d,this.locationHostCtx);return a=a.replace(c,e)}return a},revertContent:function(a){var b=localStorage.getItem("ctx");b=location.protocol+"//"+location.host+b;var a=a.replace(this.locationHostCtx,b);return a},setValue:function(a){a=this.revertContent(a);var b=this.get("model");0!=this.isReady?this.ue.setContent(a):b.context=a},reset:function(){if(0!=this.isReady)this.ue.setContent("");else{var a=this.get("model");a.context=""}},getContentTxt:function(){return this.ue.getContentTxt()},getPlainTxt:function(){return this.ue.getPlainTxt()},setContent:function(a,b){if(a=this.revertContent(a),0!=this.isReady)this.ue.setContent(a,b);else{var c=this.get("model");c.context=a}},setDisabled:function(a){a?this.ue.setDisabled("fullscreen"):this.ue.setEnabled()},getSelectText:function(){var a=this.ue.selection.getRange();return a.select(),this.ue.selection.getText()},getLocalData:function(){return this.ue.execCommand("getlocaldata")},clearlocaldata:function(){return this.ue.execCommand("clearlocaldata"),!0},setHeight:function(a){this.ue.setHeight(a)},destroy:function(){this.ue.destroy(),f.superclass.destroy.call(this,arguments)}});c.exports=f}),define("eling/component/ui/richtexteditor/1.0.0/dist/richtextedior.tpl",[],'<div id="{{this.id}}" name="{{this.name}}" style="width:{{this.width}};height:{{this.height}};" type="text/plain"></div>');