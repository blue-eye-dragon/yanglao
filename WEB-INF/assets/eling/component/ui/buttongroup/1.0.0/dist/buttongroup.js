define("eling/component/ui/buttongroup/1.0.0/dist/buttongroup",["eling/component/core/uicomponent/2.0.0/src/uicomponent","base","tools","handlebars","templatable","bootstrap","eling/component/utils/tools/tools","./buttongroup.tpl","./buttongroup.css"],function(a,b,c){var d=a("eling/component/core/uicomponent/2.0.0/src/uicomponent"),e=a("eling/component/utils/tools/tools"),f=a("./buttongroup.tpl");a("./buttongroup.css");var g=d.extend({attrs:{autoRender:!0,template:f,model:{items:[],all:{show:!1,text:"全部",position:"top"}}},events:function(){var a=this,b=this.get("model"),c={};return c["click .J-buttongroup"]=function(c){var d=b.handler,f=$(c.currentTarget).attr("data-key"),g=$(c.currentTarget).text();return a.setValue(f),a.setText(g),e.isFunction(d)&&d(f,g),!1},c["mouseover .J-buttongroup.main"]=function(b){return a.element.find(".tip").css({display:"block"}),!1},c["mouseout .J-buttongroup.main"]=function(b){return a.element.find(".tip").css({display:"none"}),!1},c},_geneViewModel:function(){var a=this.get("model"),b=a.items,c=a.keyField||"key",d=a.valueField||"value",f=a.format,g=a.all,h={key:"",text:g.text||"全部"},i={};if(g.show&&"top"==g.position)i=h;else{if(!b[0])return i=null,!1;i={key:e._getValueFromObject(c,b[0]),text:e.isFunction(f)?f(b[0],a):e._getValueFromObject(d,b[0])}}var j=[];for(var k in b)j.push({key:e._getValueFromObject(c,b[k]),text:e.isFunction(f)?f(b[k],a):e._getValueFromObject(d,b[k])});g.show&&"top"==g.position?j.splice(0,0,h):g.show&&j.push(h),a.main=i,a.sub=j},initCustAttr:function(){this._geneViewModel()},afterRender:function(){var a=this.get("model");a.url&&a.lazy!==!0&&this.load()},setValue:function(a){var b=this.$(".J-buttongroup.sub[data-key='"+a+"']");this.$(".J-buttongroup.main").attr("data-key",a).text(b.text())},getValue:function(){return this.$(".J-buttongroup.main").attr("data-key")},setText:function(a){this.$(".J-buttongroup.main").text(a)},getText:function(){return this.$(".J-buttongroup.main").text()},setData:function(a){this.get("model").items=a,this._geneViewModel();var b=$(this.get("template")).html();this.element.html(this.handlebars.compile(b)(this.get("model")))},getData:function(){return this.get("model").items},loading:function(){this.$(".btn-group").html($("<button></button>").addClass("btn").addClass("btn-danger").text("正在加载"))},load:function(a){this.loading();var b=this,a=a||{},c=a.url,d=a.params,f=a.callback,g=this.get("model"),h=d||g.params;e.isFunction(h)&&(h=h()),$.ajax({url:c||g.url,data:h,datatType:"json",success:function(a){b.setData(a),e.isFunction(f)&&f(a)}})},hide:function(){this.$(".btn").addClass("hidden")},show:function(){this.$(".btn").removeClass("hidden")}});c.exports=g}),define("eling/component/ui/buttongroup/1.0.0/dist/buttongroup.tpl",[],'<div id="{{this.id}}" class="el-buttongroup-1">\n	<div class="btn-group">\n		{{#if this.main}}\n			<button class="btn btn-theme J-buttongroup main {{this.className}}" data-key="{{this.main.key}}">{{this.main.text}}</button>\n			<button class="btn btn-theme dropdown-toggle {{this.className}}" data-toggle="dropdown">\n				<span class="caret"></span>\n			</button>\n			<ul class="dropdown-menu">\n				{{#each this.sub}}\n					<li><a class="J-buttongroup sub" data-key="{{this.key}}" href="javascript:void(0);">{{this.text}}</a></li>\n				{{/each}}\n			</ul>\n			{{#if this.tip}}\n			<div class="tip">{{this.tip}}</div>\n			{{/if}}\n		{{/if}}\n	</div>\n</div>'),define("eling/component/ui/buttongroup/1.0.0/dist/buttongroup.css",[],function(){seajs.importStyle(".el-buttongroup-1 .btn{color:#fff!important}.el-buttongroup-1 .caret{border-top-color:#fff}.el-buttongroup-1 .tip{display:none;position:absolute;white-space:nowrap;top:100%;left:20px;z-index:1000;float:left;padding:5px;margin:2px 0 0;font-size:14px;text-align:left;list-style:none;background-color:#fff;-webkit-background-clip:padding-box;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:4px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.el-buttongroup-1 .dropdown-menu li a{margin-right:30px}")});