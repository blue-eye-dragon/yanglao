define(function(require,exports,module){
	var Subnav=require("subnav-1.0.0");
	
	var utils={
		init:function(params,widget){
			return new Subnav({
				parentNode:".J-subnav",
				model:{
        			title:"代配药核对",
					buttons:[{
						id:"return",
						text:"返回",
						show:false,
						handler:function(){
							widget.hide([".J-paper",".J-tickets",".J-medicine"]).show([".J-grid"]);
							widget.get("subnav").hide(["return"]).show(["checkpaper","checkticket","checkmedicine","datatype","building"]);
						}
    				},{
						id:"checkmedicine",
						text:"核对药品",
						handler:function(){
							widget.hide([".J-grid",".J-paper",".J-tickets"]).show([".J-medicine"]);
							widget.get("subnav").show(["return"]).hide(["checkpaper","checkticket","checkmedicine","datatype","building"]);
						}
    				},{
						id:"checkticket",
						text:"核对票款",
						handler:function(index,data,rowEle){
							widget.hide([".J-grid",".J-paper",".J-medicine"]).show([".J-tickets"]);
							widget.get("subnav").show(["return"]).hide(["checkpaper","checkticket","checkmedicine","datatype","building"]);
						}
    				},{
						id:"checkpaper",
						text:"核对证件",
						handler:function(index,data,rowEle){
							widget.hide([".J-grid",".J-tickets",".J-medicine"]).show([".J-paper"]);
							widget.get("subnav").show(["return"]).hide(["checkpaper","checkticket","checkmedicine","datatype","building"]);
						}
    				}],
					buttonGroup:[{
						id:"building",
						showAll:true, 
						handler:function(key,element){
							widget.get("grid").refresh(null,function(){
								widget.getTotalMny();
							});
							widget.get("grid1").refresh();
							widget.get("grid2").refresh();
							widget.get("grid3").refresh();
						}
					},{
    					id:"datatype",
                        items:[{
                            key:"0",
                            value:"证件未核对"
                        },{
                            key:"1",
                            value:"票款未核对"
                        },{
                 	   	    key:"2",
                            value:"药品未核对"
                        },{
                    		key:"3",
                            value:"核对完"
                        },{
                    		key:"4",
                            value:"全部"
                        }],
						handler:function(key,element){
							widget.get("grid").refresh(null,function(){
								widget.getTotalMny();
							});
							widget.get("grid1").refresh();
							widget.get("grid2").refresh();
							widget.get("grid3").refresh();
						}
                    }]
                }
			});
		}
	};
	module.exports=utils;
});